<!-- Background Overlay (Transparent and Slightly Opaque) -->
<div class="fixed inset-0 bg-gray-900 bg-opacity-20 backdrop-blur-sm z-40 transition-opacity duration-300"
     *ngIf="isOpen"
     (click)="closeModal()">
</div>

<!-- Modal Container with Dynamic Positioning -->
<div class="fixed bg-white z-50 shadow-2xl rounded-lg transition-all duration-500 ease-in-out"
     [ngClass]="{
       'right-0 top-0 h-full w-1/3': position === 'right',
       'top-0 left-1/2 transform -translate-x-1/2 w-2/3': position === 'top',
       'translate-x-0': isOpen && position === 'right',
       '-translate-x-full': !isOpen && position === 'right',
       'translate-y-0': isOpen && position === 'top',
       '-translate-y-full': !isOpen && position === 'top'
     }">
  <div class="p-6 h-full flex flex-col">
    <div class="flex justify-between items-center mb-6">
      <h2 class="text-2xl font-bold text-gray-800">{{ isEditing ? 'Edit Todo' : 'Add New Todo' }}</h2>
      <button (click)="closeModal()" class="cursor-pointer text-gray-500 hover:text-red-500">âœ•</button>
    </div>

    <!-- Input Field -->
    <div class="flex-grow">
      <label class="block text-lg text-gray-700 mb-2">Todo Note</label>
      <input type="text" [(ngModel)]="todo.note" placeholder="Enter your todo note"
             class="w-full p-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" />
    </div>

    <!-- Action Buttons -->
    <div class="mt-6 flex justify-end gap-4">
      <button (click)="closeModal()" class="px-5 py-2 bg-gray-400 text-white rounded-full">Cancel</button>
      <button (click)="saveTodo()" [disabled]="!todo.note.trim()"
              class="px-5 py-2 bg-green-500 text-white rounded-full transition-opacity duration-200 hover:bg-green-600 disabled:opacity-50">
        {{ isEditing ? 'Save' : 'Add Todo' }}
      </button>
    </div>
  </div>
</div>
